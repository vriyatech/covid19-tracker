{"ast":null,"code":"import React, { Fragment } from 'react';\nimport range from 'lodash/range';\nimport sortBy from 'lodash/sortBy';\nimport { SmartMotion, motionPropTypes, stackOrderPropType, stackOffsetPropType, areaCurvePropType, withTheme, withCurve, withDimensions, withMotion, stackOffsetFromProp, stackOrderFromProp, bindDefs, Container, SvgWrapper, ResponsiveWrapper } from '@nivo/core';\nimport { Grid, Axes } from '@nivo/axes';\nimport { LegendPropShape, BoxLegendSvg } from '@nivo/legends';\nimport PropTypes from 'prop-types';\nimport { BasicTooltip, TableTooltip, Chip } from '@nivo/tooltip';\nimport compose from 'recompose/compose';\nimport pure from 'recompose/pure';\nimport { TransitionMotion, spring } from 'react-motion';\nimport withState from 'recompose/withState';\nimport withHandlers from 'recompose/withHandlers';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport { ordinalColorsPropType, inheritedColorPropType, getOrdinalColorScale, getInheritedColorGenerator } from '@nivo/colors';\nimport { area, stack } from 'd3-shape';\nimport { scalePoint, scaleLinear } from 'd3-scale';\nimport { format } from 'd3-format';\nimport defaultProps from 'recompose/defaultProps';\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar StreamLayers = function StreamLayers(_ref) {\n  var layers = _ref.layers,\n      fillOpacity = _ref.fillOpacity,\n      borderWidth = _ref.borderWidth,\n      getBorderColor = _ref.getBorderColor,\n      theme = _ref.theme,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip,\n      getTooltipLabel = _ref.getTooltipLabel,\n      animate = _ref.animate,\n      motionStiffness = _ref.motionStiffness,\n      motionDamping = _ref.motionDamping;\n\n  if (animate !== true) {\n    return React.createElement(\"g\", null, layers.map(function (layer, i) {\n      var path = layer.path,\n          color = layer.color;\n\n      var handleTooltip = function handleTooltip(e) {\n        return showTooltip(React.createElement(BasicTooltip, {\n          id: getTooltipLabel(layer),\n          enableChip: true,\n          color: color,\n          theme: theme\n        }), e);\n      };\n\n      return React.createElement(\"path\", {\n        key: i,\n        onMouseMove: handleTooltip,\n        onMouseEnter: handleTooltip,\n        onMouseLeave: hideTooltip,\n        d: path,\n        fill: layer.fill ? layer.fill : layer.color,\n        fillOpacity: fillOpacity,\n        stroke: getBorderColor(layer),\n        strokeWidth: borderWidth\n      });\n    }));\n  }\n\n  var springConfig = {\n    stiffness: motionStiffness,\n    damping: motionDamping\n  };\n  return React.createElement(\"g\", null, layers.map(function (layer, i) {\n    var path = layer.path,\n        color = layer.color;\n\n    var handleTooltip = function handleTooltip(e) {\n      return showTooltip(React.createElement(BasicTooltip, {\n        id: getTooltipLabel(layer),\n        enableChip: true,\n        color: color,\n        theme: theme\n      }), e);\n    };\n\n    return React.createElement(SmartMotion, {\n      key: i,\n      style: function style(spring) {\n        return {\n          d: spring(path, springConfig),\n          fill: spring(color, springConfig),\n          fillOpacity: spring(fillOpacity, springConfig)\n        };\n      }\n    }, function (style) {\n      return React.createElement(\"path\", _extends({\n        onMouseMove: handleTooltip,\n        onMouseEnter: handleTooltip,\n        onMouseLeave: hideTooltip\n      }, style, {\n        fill: layer.fill ? layer.fill : style.fill,\n        stroke: getBorderColor(layer),\n        strokeWidth: borderWidth\n      }));\n    });\n  }));\n};\n\nStreamLayers.propTypes = _objectSpread({\n  fillOpacity: PropTypes.number.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  theme: PropTypes.object.isRequired,\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  getTooltipLabel: PropTypes.func.isRequired\n}, motionPropTypes);\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$1(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar getDotY = function getDotY(datum, position) {\n  var y = datum.y2;\n\n  if (position === 'center') {\n    y = datum.y1 + (datum.y2 - datum.y1) / 2;\n  } else if (position === 'start') {\n    y = datum.y1;\n  }\n\n  return y;\n};\n\nvar StreamDots = function StreamDots(_ref) {\n  var id = _ref.id,\n      color = _ref.color,\n      data = _ref.data,\n      renderDot = _ref.renderDot,\n      position = _ref.position,\n      getSize = _ref.getSize,\n      getColor = _ref.getColor,\n      getBorderWidth = _ref.getBorderWidth,\n      getBorderColor = _ref.getBorderColor,\n      animate = _ref.animate,\n      motionStiffness = _ref.motionStiffness,\n      motionDamping = _ref.motionDamping;\n\n  if (animate !== true) {\n    return data.map(function (d, i) {\n      var datum = _objectSpread$1({}, d, {\n        key: id,\n        color: color\n      });\n\n      return React.createElement(Fragment, {\n        key: i\n      }, renderDot({\n        data: datum,\n        x: datum.x,\n        y: getDotY(datum, position),\n        size: getSize(datum),\n        color: getColor(datum),\n        borderWidth: getBorderWidth(datum)\n      }));\n    });\n  }\n\n  var springConfig = {\n    stiffness: motionStiffness,\n    damping: motionDamping\n  };\n  return React.createElement(TransitionMotion, {\n    styles: data.map(function (d, i) {\n      var datum = _objectSpread$1({}, d, {\n        key: id,\n        color: color\n      });\n\n      return {\n        key: \"\".concat(i),\n        data: datum,\n        style: {\n          x: spring(datum.x, springConfig),\n          y: spring(getDotY(datum, position), springConfig),\n          size: spring(getSize(datum), springConfig),\n          borderWidth: spring(getBorderWidth(datum), springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(Fragment, null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          datum = _ref2.data;\n      return React.createElement(Fragment, {\n        key: key\n      }, renderDot({\n        data: datum,\n        x: style.x,\n        y: style.y,\n        size: style.size,\n        color: getColor(datum),\n        borderWidth: style.borderWidth,\n        borderColor: getBorderColor(datum)\n      }));\n    }));\n  });\n};\n\nStreamDots.propTypes = _objectSpread$1({\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  color: PropTypes.string.isRequired,\n  data: PropTypes.arrayOf(PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y1: PropTypes.number.isRequired,\n    y2: PropTypes.number.isRequired\n  })).isRequired,\n  renderDot: PropTypes.func.isRequired,\n  position: PropTypes.oneOf(['start', 'center', 'end']).isRequired,\n  getSize: PropTypes.func.isRequired,\n  getColor: PropTypes.func.isRequired,\n  getBorderWidth: PropTypes.func.isRequired,\n  getBorderColor: PropTypes.func.isRequired\n}, motionPropTypes);\nvar enhance = compose(pure);\nvar StreamDots$1 = enhance(StreamDots);\n\nvar StreamSlicesItem = function StreamSlicesItem(_ref) {\n  var slice = _ref.slice,\n      height = _ref.height,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip,\n      isHover = _ref.isHover;\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(slice.x, \", 0)\")\n  }, isHover && React.createElement(\"line\", {\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: height,\n    stroke: \"#000\",\n    strokeOpacity: 0.35,\n    strokeWidth: 1\n  }), React.createElement(\"rect\", {\n    x: -20,\n    width: 40,\n    height: height,\n    fill: \"#000\",\n    fillOpacity: 0,\n    onMouseEnter: showTooltip,\n    onMouseMove: showTooltip,\n    onMouseLeave: hideTooltip\n  }));\n};\n\nStreamSlicesItem.propTypes = {\n  slice: PropTypes.object.isRequired,\n  height: PropTypes.number.isRequired,\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  getTooltipLabel: PropTypes.func.isRequired,\n  getTooltipValue: PropTypes.func.isRequired,\n  isHover: PropTypes.bool.isRequired,\n  theme: PropTypes.object.isRequired\n};\nvar enhance$1 = compose(withState('isHover', 'setIsHover', false), withPropsOnChange(['slice', 'theme', 'getTooltipLabel', 'getTooltipValue'], function (_ref2) {\n  var slice = _ref2.slice,\n      theme = _ref2.theme,\n      getTooltipLabel = _ref2.getTooltipLabel,\n      getTooltipValue = _ref2.getTooltipValue;\n  return {\n    tooltip: React.createElement(TableTooltip, {\n      theme: theme,\n      rows: slice.stack.map(function (p) {\n        return [React.createElement(Chip, {\n          key: p.id,\n          color: p.color\n        }), getTooltipLabel(p), getTooltipValue(p)];\n      })\n    })\n  };\n}), withHandlers({\n  showTooltip: function showTooltip(_ref3) {\n    var _showTooltip = _ref3.showTooltip,\n        setIsHover = _ref3.setIsHover,\n        tooltip = _ref3.tooltip;\n    return function (e) {\n      setIsHover(true);\n\n      _showTooltip(tooltip, e);\n    };\n  },\n  hideTooltip: function hideTooltip(_ref4) {\n    var _hideTooltip = _ref4.hideTooltip,\n        setIsHover = _ref4.setIsHover;\n    return function () {\n      setIsHover(false);\n\n      _hideTooltip();\n    };\n  }\n}), pure);\nvar StreamSlicesItem$1 = enhance$1(StreamSlicesItem);\n\nvar StreamSlices = function StreamSlices(_ref) {\n  var slices = _ref.slices,\n      height = _ref.height,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip,\n      theme = _ref.theme,\n      getTooltipLabel = _ref.getTooltipLabel,\n      getTooltipValue = _ref.getTooltipValue;\n  return React.createElement(\"g\", null, slices.map(function (slice) {\n    return React.createElement(StreamSlicesItem$1, {\n      key: slice.index,\n      slice: slice,\n      height: height,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      theme: theme,\n      getTooltipLabel: getTooltipLabel,\n      getTooltipValue: getTooltipValue\n    });\n  }));\n};\n\nStreamSlices.propTypes = {\n  slices: PropTypes.arrayOf(PropTypes.shape({\n    index: PropTypes.number.isRequired,\n    x: PropTypes.number.isRequired,\n    stack: PropTypes.arrayOf(PropTypes.shape({\n      id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n      value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n      color: PropTypes.string.isRequired\n    })).isRequired\n  })).isRequired,\n  height: PropTypes.number.isRequired,\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  getTooltipLabel: PropTypes.func.isRequired,\n  getTooltipValue: PropTypes.func.isRequired,\n  theme: PropTypes.object.isRequired\n};\nvar StreamSlices$1 = pure(StreamSlices);\n\nvar StreamDotsItem = function StreamDotsItem(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      color = _ref.color,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor;\n  return React.createElement(\"circle\", {\n    cx: x,\n    cy: y,\n    r: size * 0.5,\n    fill: color,\n    strokeWidth: borderWidth,\n    stroke: borderColor\n  });\n};\n\nStreamDotsItem.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired\n};\nvar StreamPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  keys: PropTypes.array.isRequired,\n  stack: PropTypes.func.isRequired,\n  xScale: PropTypes.func.isRequired,\n  yScale: PropTypes.func.isRequired,\n  order: stackOrderPropType.isRequired,\n  offsetType: stackOffsetPropType.isRequired,\n  curve: areaCurvePropType.isRequired,\n  areaGenerator: PropTypes.func.isRequired,\n  axisTop: PropTypes.object,\n  axisRight: PropTypes.object,\n  axisBottom: PropTypes.object,\n  axisLeft: PropTypes.object,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  colors: ordinalColorsPropType.isRequired,\n  fillOpacity: PropTypes.number.isRequired,\n  getColor: PropTypes.func.isRequired,\n  defs: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired\n  })).isRequired,\n  fill: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string,\n    match: PropTypes.oneOfType([PropTypes.oneOf(['*']), PropTypes.object, PropTypes.func]).isRequired\n  })).isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: inheritedColorPropType.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  enableDots: PropTypes.bool.isRequired,\n  renderDot: PropTypes.func.isRequired,\n  dotPosition: PropTypes.oneOf(['start', 'center', 'end']).isRequired,\n  dotSize: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\n  getDotSize: PropTypes.func.isRequired,\n  dotColor: inheritedColorPropType.isRequired,\n  dotBorderWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\n  getDotBorderWidth: PropTypes.func.isRequired,\n  dotBorderColor: inheritedColorPropType.isRequired,\n  isInteractive: PropTypes.bool,\n  tooltipLabel: PropTypes.func,\n  getTooltipLabel: PropTypes.func.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  getTooltipValue: PropTypes.func.isRequired,\n  enableStackTooltip: PropTypes.bool.isRequired,\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired\n};\nvar StreamDefaultProps = {\n  order: 'none',\n  offsetType: 'wiggle',\n  curve: 'catmullRom',\n  axisBottom: {},\n  enableGridX: true,\n  enableGridY: false,\n  borderWidth: 0,\n  borderColor: {\n    from: 'color',\n    modifiers: [['darker', 1]]\n  },\n  colors: {\n    scheme: 'nivo'\n  },\n  fillOpacity: 1,\n  defs: [],\n  fill: [],\n  enableDots: false,\n  dotPosition: 'center',\n  renderDot: StreamDotsItem,\n  dotSize: 6,\n  dotColor: {\n    from: 'color'\n  },\n  dotBorderWidth: 0,\n  dotBorderColor: {\n    from: 'color'\n  },\n  isInteractive: true,\n  enableStackTooltip: true,\n  legends: []\n};\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nvar stackMin = function stackMin(layers) {\n  return Math.min.apply(Math, _toConsumableArray(layers.reduce(function (acc, layer) {\n    return [].concat(_toConsumableArray(acc), _toConsumableArray(layer.map(function (d) {\n      return d[0];\n    })));\n  }, [])));\n};\n\nvar stackMax = function stackMax(layers) {\n  return Math.max.apply(Math, _toConsumableArray(layers.reduce(function (acc, layer) {\n    return [].concat(_toConsumableArray(acc), _toConsumableArray(layer.map(function (d) {\n      return d[1];\n    })));\n  }, [])));\n};\n\nvar enhance$2 = function enhance$2(Component) {\n  return compose(defaultProps(StreamDefaultProps), withTheme(), withCurve(), withDimensions(), withMotion(), withPropsOnChange(['curveInterpolator'], function (_ref) {\n    var curveInterpolator = _ref.curveInterpolator;\n    return {\n      areaGenerator: area().x(function (_ref2) {\n        var x = _ref2.x;\n        return x;\n      }).y0(function (_ref3) {\n        var y1 = _ref3.y1;\n        return y1;\n      }).y1(function (_ref4) {\n        var y2 = _ref4.y2;\n        return y2;\n      }).curve(curveInterpolator)\n    };\n  }), withPropsOnChange(['colors'], function (_ref5) {\n    var colors = _ref5.colors;\n    return {\n      getColor: getOrdinalColorScale(colors, 'index')\n    };\n  }), withPropsOnChange(['borderColor', 'theme'], function (_ref6) {\n    var borderColor = _ref6.borderColor,\n        theme = _ref6.theme;\n    return {\n      getBorderColor: getInheritedColorGenerator(borderColor, theme)\n    };\n  }), withPropsOnChange(['keys', 'offsetType', 'order'], function (_ref7) {\n    var keys = _ref7.keys,\n        offsetType = _ref7.offsetType,\n        order = _ref7.order;\n    return {\n      stack: stack().keys(keys).offset(stackOffsetFromProp(offsetType)).order(stackOrderFromProp(order))\n    };\n  }), withPropsOnChange(['stack', 'data', 'width', 'height'], function (_ref8) {\n    var stack = _ref8.stack,\n        data = _ref8.data,\n        width = _ref8.width,\n        height = _ref8.height;\n    var layers = stack(data);\n    layers.forEach(function (layer) {\n      layer.forEach(function (point) {\n        point.value = point.data[layer.key];\n      });\n    });\n    var minValue = stackMin(layers);\n    var maxValue = stackMax(layers);\n    return {\n      layers: layers,\n      xScale: scalePoint().domain(range(data.length)).range([0, width]),\n      yScale: scaleLinear().domain([minValue, maxValue]).range([height, 0])\n    };\n  }), withPropsOnChange(['dotSize'], function (_ref9) {\n    var dotSize = _ref9.dotSize;\n    return {\n      getDotSize: typeof dotSize === 'function' ? dotSize : function () {\n        return dotSize;\n      }\n    };\n  }), withPropsOnChange(['dotColor', 'theme'], function (_ref10) {\n    var dotColor = _ref10.dotColor,\n        theme = _ref10.theme;\n    return {\n      getDotColor: getInheritedColorGenerator(dotColor, theme)\n    };\n  }), withPropsOnChange(['dotBorderWidth'], function (_ref11) {\n    var dotBorderWidth = _ref11.dotBorderWidth;\n    return {\n      getDotBorderWidth: typeof dotBorderWidth === 'function' ? dotBorderWidth : function () {\n        return dotBorderWidth;\n      }\n    };\n  }), withPropsOnChange(['dotBorderColor', 'theme'], function (_ref12) {\n    var dotBorderColor = _ref12.dotBorderColor,\n        theme = _ref12.theme;\n    return {\n      getDotBorderColor: getInheritedColorGenerator(dotBorderColor, theme)\n    };\n  }), withPropsOnChange(['tooltipLabel', 'tooltipFormat'], function (_ref13) {\n    var tooltipLabel = _ref13.tooltipLabel,\n        tooltipFormat = _ref13.tooltipFormat;\n\n    var getTooltipLabel = function getTooltipLabel(d) {\n      return d.id;\n    };\n\n    if (typeof tooltipLabel === 'function') {\n      getTooltipLabel = tooltipLabel;\n    }\n\n    var getTooltipValue = function getTooltipValue(d) {\n      return d.value;\n    };\n\n    if (typeof tooltipFormat === 'function') {\n      getTooltipValue = tooltipFormat;\n    } else if (typeof tooltipFormat === 'string' || tooltipFormat instanceof String) {\n      var formatter = format(tooltipFormat);\n\n      getTooltipValue = function getTooltipValue(d) {\n        return formatter(d.value);\n      };\n    }\n\n    return {\n      getTooltipValue: getTooltipValue,\n      getTooltipLabel: getTooltipLabel\n    };\n  }), pure)(Component);\n};\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$2(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Stream = function Stream(_ref) {\n  var data = _ref.data,\n      keys = _ref.keys,\n      xScale = _ref.xScale,\n      yScale = _ref.yScale,\n      layers = _ref.layers,\n      areaGenerator = _ref.areaGenerator,\n      margin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      outerWidth = _ref.outerWidth,\n      outerHeight = _ref.outerHeight,\n      axisTop = _ref.axisTop,\n      axisRight = _ref.axisRight,\n      axisBottom = _ref.axisBottom,\n      axisLeft = _ref.axisLeft,\n      enableGridX = _ref.enableGridX,\n      enableGridY = _ref.enableGridY,\n      theme = _ref.theme,\n      getColor = _ref.getColor,\n      fillOpacity = _ref.fillOpacity,\n      borderWidth = _ref.borderWidth,\n      getBorderColor = _ref.getBorderColor,\n      defs = _ref.defs,\n      fill = _ref.fill,\n      enableDots = _ref.enableDots,\n      dotPosition = _ref.dotPosition,\n      renderDot = _ref.renderDot,\n      getDotSize = _ref.getDotSize,\n      getDotColor = _ref.getDotColor,\n      getDotBorderWidth = _ref.getDotBorderWidth,\n      getDotBorderColor = _ref.getDotBorderColor,\n      animate = _ref.animate,\n      motionStiffness = _ref.motionStiffness,\n      motionDamping = _ref.motionDamping,\n      isInteractive = _ref.isInteractive,\n      getTooltipValue = _ref.getTooltipValue,\n      getTooltipLabel = _ref.getTooltipLabel,\n      enableStackTooltip = _ref.enableStackTooltip,\n      legends = _ref.legends;\n  var enhancedLayers = layers.map(function (points, layerIndex) {\n    var layer = points.map(function (point, i) {\n      return {\n        index: i,\n        x: xScale(i),\n        value: point.value,\n        y1: yScale(point[0]),\n        y2: yScale(point[1])\n      };\n    });\n    return {\n      id: keys[layerIndex],\n      layer: layer,\n      path: areaGenerator(layer),\n      color: getColor({\n        index: layerIndex\n      })\n    };\n  });\n  var slices = range(data.length).map(function (i) {\n    return {\n      index: i,\n      x: enhancedLayers[0].layer[i].x,\n      stack: sortBy(enhancedLayers.map(function (layer) {\n        return _objectSpread$2({\n          id: layer.id,\n          color: layer.color\n        }, layer.layer[i]);\n      }), 'y2')\n    };\n  });\n  var boundDefs = bindDefs(defs, enhancedLayers, fill);\n  return React.createElement(Container, {\n    isInteractive: isInteractive,\n    theme: theme,\n    animate: animate,\n    motionDamping: motionDamping,\n    motionStiffness: motionStiffness\n  }, function (_ref2) {\n    var showTooltip = _ref2.showTooltip,\n        hideTooltip = _ref2.hideTooltip;\n    return React.createElement(SvgWrapper, {\n      width: outerWidth,\n      height: outerHeight,\n      margin: margin,\n      defs: boundDefs,\n      theme: theme\n    }, React.createElement(Grid, {\n      width: width,\n      height: height,\n      xScale: enableGridX ? xScale : null,\n      yScale: enableGridY ? yScale : null\n    }), React.createElement(StreamLayers, {\n      layers: enhancedLayers,\n      fillOpacity: fillOpacity,\n      borderWidth: borderWidth,\n      getBorderColor: getBorderColor,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      getTooltipLabel: getTooltipLabel,\n      theme: theme,\n      animate: animate,\n      motionDamping: motionDamping,\n      motionStiffness: motionStiffness\n    }), React.createElement(Axes, {\n      xScale: xScale,\n      yScale: yScale,\n      width: width,\n      height: height,\n      top: axisTop,\n      right: axisRight,\n      bottom: axisBottom,\n      left: axisLeft\n    }), enableDots && enhancedLayers.map(function (layer) {\n      return React.createElement(StreamDots$1, {\n        key: layer.id,\n        id: layer.id,\n        color: layer.color,\n        data: layer.layer,\n        renderDot: renderDot,\n        position: dotPosition,\n        getSize: getDotSize,\n        getColor: getDotColor,\n        getBorderWidth: getDotBorderWidth,\n        getBorderColor: getDotBorderColor,\n        animate: animate,\n        motionDamping: motionDamping,\n        motionStiffness: motionStiffness\n      });\n    }), isInteractive && enableStackTooltip && React.createElement(StreamSlices$1, {\n      slices: slices,\n      height: height,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      theme: theme,\n      getTooltipValue: getTooltipValue,\n      getTooltipLabel: getTooltipLabel\n    }), legends.map(function (legend, i) {\n      var legendData = enhancedLayers.map(function (l) {\n        return {\n          id: l.id,\n          label: l.id,\n          color: l.color,\n          fill: l.fill\n        };\n      }).reverse();\n      return React.createElement(BoxLegendSvg, _extends$1({\n        key: i\n      }, legend, {\n        containerWidth: width,\n        containerHeight: height,\n        data: legendData,\n        theme: theme\n      }));\n    }));\n  });\n};\n\nStream.propTypes = StreamPropTypes;\nvar enhancedStream = enhance$2(Stream);\nenhancedStream.displayName = 'Stream';\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nvar ResponsiveStream = function ResponsiveStream(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(enhancedStream, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { ResponsiveStream, enhancedStream as Stream, StreamDefaultProps, StreamPropTypes };","map":{"version":3,"sources":["D:/programming/react/new covid/covid19/node_modules/@nivo/stream/dist/nivo-stream.esm.js"],"names":["React","Fragment","range","sortBy","SmartMotion","motionPropTypes","stackOrderPropType","stackOffsetPropType","areaCurvePropType","withTheme","withCurve","withDimensions","withMotion","stackOffsetFromProp","stackOrderFromProp","bindDefs","Container","SvgWrapper","ResponsiveWrapper","Grid","Axes","LegendPropShape","BoxLegendSvg","PropTypes","BasicTooltip","TableTooltip","Chip","compose","pure","TransitionMotion","spring","withState","withHandlers","withPropsOnChange","ordinalColorsPropType","inheritedColorPropType","getOrdinalColorScale","getInheritedColorGenerator","area","stack","scalePoint","scaleLinear","format","defaultProps","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","_extends","assign","prototype","hasOwnProperty","call","apply","StreamLayers","_ref","layers","fillOpacity","borderWidth","getBorderColor","theme","showTooltip","hideTooltip","getTooltipLabel","animate","motionStiffness","motionDamping","createElement","map","layer","path","color","handleTooltip","e","id","enableChip","onMouseMove","onMouseEnter","onMouseLeave","d","fill","stroke","strokeWidth","springConfig","stiffness","damping","style","propTypes","number","isRequired","func","object","_objectSpread$1","_defineProperty$1","getDotY","datum","position","y","y2","y1","StreamDots","data","renderDot","getSize","getColor","getBorderWidth","x","size","styles","interpolatedStyles","_ref2","borderColor","oneOfType","string","arrayOf","shape","oneOf","enhance","StreamDots$1","StreamSlicesItem","slice","height","isHover","transform","x1","x2","strokeOpacity","width","getTooltipValue","bool","enhance$1","tooltip","rows","p","_ref3","_showTooltip","setIsHover","_ref4","_hideTooltip","StreamSlicesItem$1","StreamSlices","slices","index","StreamSlices$1","StreamDotsItem","cx","cy","r","StreamPropTypes","array","xScale","yScale","order","offsetType","curve","areaGenerator","axisTop","axisRight","axisBottom","axisLeft","enableGridX","enableGridY","colors","defs","match","enableDots","dotPosition","dotSize","getDotSize","dotColor","dotBorderWidth","getDotBorderWidth","dotBorderColor","isInteractive","tooltipLabel","tooltipFormat","enableStackTooltip","legends","StreamDefaultProps","from","modifiers","scheme","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","toString","Array","isArray","arr2","stackMin","Math","min","reduce","acc","stackMax","max","enhance$2","Component","curveInterpolator","y0","_ref5","_ref6","_ref7","offset","_ref8","point","minValue","maxValue","domain","_ref9","_ref10","getDotColor","_ref11","_ref12","getDotBorderColor","_ref13","String","formatter","_extends$1","_objectSpread$2","_defineProperty$2","Stream","margin","outerWidth","outerHeight","enhancedLayers","points","layerIndex","boundDefs","top","right","bottom","left","legend","legendData","l","label","reverse","containerWidth","containerHeight","enhancedStream","displayName","_extends$2","ResponsiveStream","props"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react';\nimport range from 'lodash/range';\nimport sortBy from 'lodash/sortBy';\nimport { SmartMotion, motionPropTypes, stackOrderPropType, stackOffsetPropType, areaCurvePropType, withTheme, withCurve, withDimensions, withMotion, stackOffsetFromProp, stackOrderFromProp, bindDefs, Container, SvgWrapper, ResponsiveWrapper } from '@nivo/core';\nimport { Grid, Axes } from '@nivo/axes';\nimport { LegendPropShape, BoxLegendSvg } from '@nivo/legends';\nimport PropTypes from 'prop-types';\nimport { BasicTooltip, TableTooltip, Chip } from '@nivo/tooltip';\nimport compose from 'recompose/compose';\nimport pure from 'recompose/pure';\nimport { TransitionMotion, spring } from 'react-motion';\nimport withState from 'recompose/withState';\nimport withHandlers from 'recompose/withHandlers';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport { ordinalColorsPropType, inheritedColorPropType, getOrdinalColorScale, getInheritedColorGenerator } from '@nivo/colors';\nimport { area, stack } from 'd3-shape';\nimport { scalePoint, scaleLinear } from 'd3-scale';\nimport { format } from 'd3-format';\nimport defaultProps from 'recompose/defaultProps';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar StreamLayers = function StreamLayers(_ref) {\n  var layers = _ref.layers,\n      fillOpacity = _ref.fillOpacity,\n      borderWidth = _ref.borderWidth,\n      getBorderColor = _ref.getBorderColor,\n      theme = _ref.theme,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip,\n      getTooltipLabel = _ref.getTooltipLabel,\n      animate = _ref.animate,\n      motionStiffness = _ref.motionStiffness,\n      motionDamping = _ref.motionDamping;\n  if (animate !== true) {\n    return React.createElement(\"g\", null, layers.map(function (layer, i) {\n      var path = layer.path,\n          color = layer.color;\n      var handleTooltip = function handleTooltip(e) {\n        return showTooltip(React.createElement(BasicTooltip, {\n          id: getTooltipLabel(layer),\n          enableChip: true,\n          color: color,\n          theme: theme\n        }), e);\n      };\n      return React.createElement(\"path\", {\n        key: i,\n        onMouseMove: handleTooltip,\n        onMouseEnter: handleTooltip,\n        onMouseLeave: hideTooltip,\n        d: path,\n        fill: layer.fill ? layer.fill : layer.color,\n        fillOpacity: fillOpacity,\n        stroke: getBorderColor(layer),\n        strokeWidth: borderWidth\n      });\n    }));\n  }\n  var springConfig = {\n    stiffness: motionStiffness,\n    damping: motionDamping\n  };\n  return React.createElement(\"g\", null, layers.map(function (layer, i) {\n    var path = layer.path,\n        color = layer.color;\n    var handleTooltip = function handleTooltip(e) {\n      return showTooltip(React.createElement(BasicTooltip, {\n        id: getTooltipLabel(layer),\n        enableChip: true,\n        color: color,\n        theme: theme\n      }), e);\n    };\n    return React.createElement(SmartMotion, {\n      key: i,\n      style: function style(spring) {\n        return {\n          d: spring(path, springConfig),\n          fill: spring(color, springConfig),\n          fillOpacity: spring(fillOpacity, springConfig)\n        };\n      }\n    }, function (style) {\n      return React.createElement(\"path\", _extends({\n        onMouseMove: handleTooltip,\n        onMouseEnter: handleTooltip,\n        onMouseLeave: hideTooltip\n      }, style, {\n        fill: layer.fill ? layer.fill : style.fill,\n        stroke: getBorderColor(layer),\n        strokeWidth: borderWidth\n      }));\n    });\n  }));\n};\nStreamLayers.propTypes = _objectSpread({\n  fillOpacity: PropTypes.number.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  theme: PropTypes.object.isRequired,\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  getTooltipLabel: PropTypes.func.isRequired\n}, motionPropTypes);\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar getDotY = function getDotY(datum, position) {\n  var y = datum.y2;\n  if (position === 'center') {\n    y = datum.y1 + (datum.y2 - datum.y1) / 2;\n  } else if (position === 'start') {\n    y = datum.y1;\n  }\n  return y;\n};\nvar StreamDots = function StreamDots(_ref) {\n  var id = _ref.id,\n      color = _ref.color,\n      data = _ref.data,\n      renderDot = _ref.renderDot,\n      position = _ref.position,\n      getSize = _ref.getSize,\n      getColor = _ref.getColor,\n      getBorderWidth = _ref.getBorderWidth,\n      getBorderColor = _ref.getBorderColor,\n      animate = _ref.animate,\n      motionStiffness = _ref.motionStiffness,\n      motionDamping = _ref.motionDamping;\n  if (animate !== true) {\n    return data.map(function (d, i) {\n      var datum = _objectSpread$1({}, d, {\n        key: id,\n        color: color\n      });\n      return React.createElement(Fragment, {\n        key: i\n      }, renderDot({\n        data: datum,\n        x: datum.x,\n        y: getDotY(datum, position),\n        size: getSize(datum),\n        color: getColor(datum),\n        borderWidth: getBorderWidth(datum)\n      }));\n    });\n  }\n  var springConfig = {\n    stiffness: motionStiffness,\n    damping: motionDamping\n  };\n  return React.createElement(TransitionMotion, {\n    styles: data.map(function (d, i) {\n      var datum = _objectSpread$1({}, d, {\n        key: id,\n        color: color\n      });\n      return {\n        key: \"\".concat(i),\n        data: datum,\n        style: {\n          x: spring(datum.x, springConfig),\n          y: spring(getDotY(datum, position), springConfig),\n          size: spring(getSize(datum), springConfig),\n          borderWidth: spring(getBorderWidth(datum), springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(Fragment, null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          datum = _ref2.data;\n      return React.createElement(Fragment, {\n        key: key\n      }, renderDot({\n        data: datum,\n        x: style.x,\n        y: style.y,\n        size: style.size,\n        color: getColor(datum),\n        borderWidth: style.borderWidth,\n        borderColor: getBorderColor(datum)\n      }));\n    }));\n  });\n};\nStreamDots.propTypes = _objectSpread$1({\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  color: PropTypes.string.isRequired,\n  data: PropTypes.arrayOf(PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y1: PropTypes.number.isRequired,\n    y2: PropTypes.number.isRequired\n  })).isRequired,\n  renderDot: PropTypes.func.isRequired,\n  position: PropTypes.oneOf(['start', 'center', 'end']).isRequired,\n  getSize: PropTypes.func.isRequired,\n  getColor: PropTypes.func.isRequired,\n  getBorderWidth: PropTypes.func.isRequired,\n  getBorderColor: PropTypes.func.isRequired\n}, motionPropTypes);\nvar enhance = compose(pure);\nvar StreamDots$1 = enhance(StreamDots);\n\nvar StreamSlicesItem = function StreamSlicesItem(_ref) {\n  var slice = _ref.slice,\n      height = _ref.height,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip,\n      isHover = _ref.isHover;\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(slice.x, \", 0)\")\n  }, isHover && React.createElement(\"line\", {\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: height,\n    stroke: \"#000\",\n    strokeOpacity: 0.35,\n    strokeWidth: 1\n  }), React.createElement(\"rect\", {\n    x: -20,\n    width: 40,\n    height: height,\n    fill: \"#000\",\n    fillOpacity: 0,\n    onMouseEnter: showTooltip,\n    onMouseMove: showTooltip,\n    onMouseLeave: hideTooltip\n  }));\n};\nStreamSlicesItem.propTypes = {\n  slice: PropTypes.object.isRequired,\n  height: PropTypes.number.isRequired,\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  getTooltipLabel: PropTypes.func.isRequired,\n  getTooltipValue: PropTypes.func.isRequired,\n  isHover: PropTypes.bool.isRequired,\n  theme: PropTypes.object.isRequired\n};\nvar enhance$1 = compose(withState('isHover', 'setIsHover', false), withPropsOnChange(['slice', 'theme', 'getTooltipLabel', 'getTooltipValue'], function (_ref2) {\n  var slice = _ref2.slice,\n      theme = _ref2.theme,\n      getTooltipLabel = _ref2.getTooltipLabel,\n      getTooltipValue = _ref2.getTooltipValue;\n  return {\n    tooltip: React.createElement(TableTooltip, {\n      theme: theme,\n      rows: slice.stack.map(function (p) {\n        return [React.createElement(Chip, {\n          key: p.id,\n          color: p.color\n        }), getTooltipLabel(p), getTooltipValue(p)];\n      })\n    })\n  };\n}), withHandlers({\n  showTooltip: function showTooltip(_ref3) {\n    var _showTooltip = _ref3.showTooltip,\n        setIsHover = _ref3.setIsHover,\n        tooltip = _ref3.tooltip;\n    return function (e) {\n      setIsHover(true);\n      _showTooltip(tooltip, e);\n    };\n  },\n  hideTooltip: function hideTooltip(_ref4) {\n    var _hideTooltip = _ref4.hideTooltip,\n        setIsHover = _ref4.setIsHover;\n    return function () {\n      setIsHover(false);\n      _hideTooltip();\n    };\n  }\n}), pure);\nvar StreamSlicesItem$1 = enhance$1(StreamSlicesItem);\n\nvar StreamSlices = function StreamSlices(_ref) {\n  var slices = _ref.slices,\n      height = _ref.height,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip,\n      theme = _ref.theme,\n      getTooltipLabel = _ref.getTooltipLabel,\n      getTooltipValue = _ref.getTooltipValue;\n  return React.createElement(\"g\", null, slices.map(function (slice) {\n    return React.createElement(StreamSlicesItem$1, {\n      key: slice.index,\n      slice: slice,\n      height: height,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      theme: theme,\n      getTooltipLabel: getTooltipLabel,\n      getTooltipValue: getTooltipValue\n    });\n  }));\n};\nStreamSlices.propTypes = {\n  slices: PropTypes.arrayOf(PropTypes.shape({\n    index: PropTypes.number.isRequired,\n    x: PropTypes.number.isRequired,\n    stack: PropTypes.arrayOf(PropTypes.shape({\n      id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n      value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n      color: PropTypes.string.isRequired\n    })).isRequired\n  })).isRequired,\n  height: PropTypes.number.isRequired,\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  getTooltipLabel: PropTypes.func.isRequired,\n  getTooltipValue: PropTypes.func.isRequired,\n  theme: PropTypes.object.isRequired\n};\nvar StreamSlices$1 = pure(StreamSlices);\n\nvar StreamDotsItem = function StreamDotsItem(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      color = _ref.color,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor;\n  return React.createElement(\"circle\", {\n    cx: x,\n    cy: y,\n    r: size * 0.5,\n    fill: color,\n    strokeWidth: borderWidth,\n    stroke: borderColor\n  });\n};\nStreamDotsItem.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired\n};\n\nvar StreamPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  keys: PropTypes.array.isRequired,\n  stack: PropTypes.func.isRequired,\n  xScale: PropTypes.func.isRequired,\n  yScale: PropTypes.func.isRequired,\n  order: stackOrderPropType.isRequired,\n  offsetType: stackOffsetPropType.isRequired,\n  curve: areaCurvePropType.isRequired,\n  areaGenerator: PropTypes.func.isRequired,\n  axisTop: PropTypes.object,\n  axisRight: PropTypes.object,\n  axisBottom: PropTypes.object,\n  axisLeft: PropTypes.object,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  colors: ordinalColorsPropType.isRequired,\n  fillOpacity: PropTypes.number.isRequired,\n  getColor: PropTypes.func.isRequired,\n  defs: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired\n  })).isRequired,\n  fill: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string,\n    match: PropTypes.oneOfType([PropTypes.oneOf(['*']), PropTypes.object, PropTypes.func]).isRequired\n  })).isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: inheritedColorPropType.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  enableDots: PropTypes.bool.isRequired,\n  renderDot: PropTypes.func.isRequired,\n  dotPosition: PropTypes.oneOf(['start', 'center', 'end']).isRequired,\n  dotSize: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\n  getDotSize: PropTypes.func.isRequired,\n  dotColor: inheritedColorPropType.isRequired,\n  dotBorderWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\n  getDotBorderWidth: PropTypes.func.isRequired,\n  dotBorderColor: inheritedColorPropType.isRequired,\n  isInteractive: PropTypes.bool,\n  tooltipLabel: PropTypes.func,\n  getTooltipLabel: PropTypes.func.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  getTooltipValue: PropTypes.func.isRequired,\n  enableStackTooltip: PropTypes.bool.isRequired,\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired\n};\nvar StreamDefaultProps = {\n  order: 'none',\n  offsetType: 'wiggle',\n  curve: 'catmullRom',\n  axisBottom: {},\n  enableGridX: true,\n  enableGridY: false,\n  borderWidth: 0,\n  borderColor: {\n    from: 'color',\n    modifiers: [['darker', 1]]\n  },\n  colors: {\n    scheme: 'nivo'\n  },\n  fillOpacity: 1,\n  defs: [],\n  fill: [],\n  enableDots: false,\n  dotPosition: 'center',\n  renderDot: StreamDotsItem,\n  dotSize: 6,\n  dotColor: {\n    from: 'color'\n  },\n  dotBorderWidth: 0,\n  dotBorderColor: {\n    from: 'color'\n  },\n  isInteractive: true,\n  enableStackTooltip: true,\n  legends: []\n};\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\nvar stackMin = function stackMin(layers) {\n  return Math.min.apply(Math, _toConsumableArray(layers.reduce(function (acc, layer) {\n    return [].concat(_toConsumableArray(acc), _toConsumableArray(layer.map(function (d) {\n      return d[0];\n    })));\n  }, [])));\n};\nvar stackMax = function stackMax(layers) {\n  return Math.max.apply(Math, _toConsumableArray(layers.reduce(function (acc, layer) {\n    return [].concat(_toConsumableArray(acc), _toConsumableArray(layer.map(function (d) {\n      return d[1];\n    })));\n  }, [])));\n};\nvar enhance$2 = (function (Component) {\n  return compose(defaultProps(StreamDefaultProps), withTheme(), withCurve(), withDimensions(), withMotion(), withPropsOnChange(['curveInterpolator'], function (_ref) {\n    var curveInterpolator = _ref.curveInterpolator;\n    return {\n      areaGenerator: area().x(function (_ref2) {\n        var x = _ref2.x;\n        return x;\n      }).y0(function (_ref3) {\n        var y1 = _ref3.y1;\n        return y1;\n      }).y1(function (_ref4) {\n        var y2 = _ref4.y2;\n        return y2;\n      }).curve(curveInterpolator)\n    };\n  }), withPropsOnChange(['colors'], function (_ref5) {\n    var colors = _ref5.colors;\n    return {\n      getColor: getOrdinalColorScale(colors, 'index')\n    };\n  }), withPropsOnChange(['borderColor', 'theme'], function (_ref6) {\n    var borderColor = _ref6.borderColor,\n        theme = _ref6.theme;\n    return {\n      getBorderColor: getInheritedColorGenerator(borderColor, theme)\n    };\n  }), withPropsOnChange(['keys', 'offsetType', 'order'], function (_ref7) {\n    var keys = _ref7.keys,\n        offsetType = _ref7.offsetType,\n        order = _ref7.order;\n    return {\n      stack: stack().keys(keys).offset(stackOffsetFromProp(offsetType)).order(stackOrderFromProp(order))\n    };\n  }), withPropsOnChange(['stack', 'data', 'width', 'height'], function (_ref8) {\n    var stack = _ref8.stack,\n        data = _ref8.data,\n        width = _ref8.width,\n        height = _ref8.height;\n    var layers = stack(data);\n    layers.forEach(function (layer) {\n      layer.forEach(function (point) {\n        point.value = point.data[layer.key];\n      });\n    });\n    var minValue = stackMin(layers);\n    var maxValue = stackMax(layers);\n    return {\n      layers: layers,\n      xScale: scalePoint().domain(range(data.length)).range([0, width]),\n      yScale: scaleLinear().domain([minValue, maxValue]).range([height, 0])\n    };\n  }), withPropsOnChange(['dotSize'], function (_ref9) {\n    var dotSize = _ref9.dotSize;\n    return {\n      getDotSize: typeof dotSize === 'function' ? dotSize : function () {\n        return dotSize;\n      }\n    };\n  }), withPropsOnChange(['dotColor', 'theme'], function (_ref10) {\n    var dotColor = _ref10.dotColor,\n        theme = _ref10.theme;\n    return {\n      getDotColor: getInheritedColorGenerator(dotColor, theme)\n    };\n  }), withPropsOnChange(['dotBorderWidth'], function (_ref11) {\n    var dotBorderWidth = _ref11.dotBorderWidth;\n    return {\n      getDotBorderWidth: typeof dotBorderWidth === 'function' ? dotBorderWidth : function () {\n        return dotBorderWidth;\n      }\n    };\n  }), withPropsOnChange(['dotBorderColor', 'theme'], function (_ref12) {\n    var dotBorderColor = _ref12.dotBorderColor,\n        theme = _ref12.theme;\n    return {\n      getDotBorderColor: getInheritedColorGenerator(dotBorderColor, theme)\n    };\n  }), withPropsOnChange(['tooltipLabel', 'tooltipFormat'], function (_ref13) {\n    var tooltipLabel = _ref13.tooltipLabel,\n        tooltipFormat = _ref13.tooltipFormat;\n    var getTooltipLabel = function getTooltipLabel(d) {\n      return d.id;\n    };\n    if (typeof tooltipLabel === 'function') {\n      getTooltipLabel = tooltipLabel;\n    }\n    var getTooltipValue = function getTooltipValue(d) {\n      return d.value;\n    };\n    if (typeof tooltipFormat === 'function') {\n      getTooltipValue = tooltipFormat;\n    } else if (typeof tooltipFormat === 'string' || tooltipFormat instanceof String) {\n      var formatter = format(tooltipFormat);\n      getTooltipValue = function getTooltipValue(d) {\n        return formatter(d.value);\n      };\n    }\n    return {\n      getTooltipValue: getTooltipValue,\n      getTooltipLabel: getTooltipLabel\n    };\n  }), pure)(Component);\n});\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar Stream = function Stream(_ref) {\n  var data = _ref.data,\n      keys = _ref.keys,\n      xScale = _ref.xScale,\n      yScale = _ref.yScale,\n      layers = _ref.layers,\n      areaGenerator = _ref.areaGenerator,\n      margin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      outerWidth = _ref.outerWidth,\n      outerHeight = _ref.outerHeight,\n      axisTop = _ref.axisTop,\n      axisRight = _ref.axisRight,\n      axisBottom = _ref.axisBottom,\n      axisLeft = _ref.axisLeft,\n      enableGridX = _ref.enableGridX,\n      enableGridY = _ref.enableGridY,\n      theme = _ref.theme,\n      getColor = _ref.getColor,\n      fillOpacity = _ref.fillOpacity,\n      borderWidth = _ref.borderWidth,\n      getBorderColor = _ref.getBorderColor,\n      defs = _ref.defs,\n      fill = _ref.fill,\n      enableDots = _ref.enableDots,\n      dotPosition = _ref.dotPosition,\n      renderDot = _ref.renderDot,\n      getDotSize = _ref.getDotSize,\n      getDotColor = _ref.getDotColor,\n      getDotBorderWidth = _ref.getDotBorderWidth,\n      getDotBorderColor = _ref.getDotBorderColor,\n      animate = _ref.animate,\n      motionStiffness = _ref.motionStiffness,\n      motionDamping = _ref.motionDamping,\n      isInteractive = _ref.isInteractive,\n      getTooltipValue = _ref.getTooltipValue,\n      getTooltipLabel = _ref.getTooltipLabel,\n      enableStackTooltip = _ref.enableStackTooltip,\n      legends = _ref.legends;\n  var enhancedLayers = layers.map(function (points, layerIndex) {\n    var layer = points.map(function (point, i) {\n      return {\n        index: i,\n        x: xScale(i),\n        value: point.value,\n        y1: yScale(point[0]),\n        y2: yScale(point[1])\n      };\n    });\n    return {\n      id: keys[layerIndex],\n      layer: layer,\n      path: areaGenerator(layer),\n      color: getColor({\n        index: layerIndex\n      })\n    };\n  });\n  var slices = range(data.length).map(function (i) {\n    return {\n      index: i,\n      x: enhancedLayers[0].layer[i].x,\n      stack: sortBy(enhancedLayers.map(function (layer) {\n        return _objectSpread$2({\n          id: layer.id,\n          color: layer.color\n        }, layer.layer[i]);\n      }), 'y2')\n    };\n  });\n  var boundDefs = bindDefs(defs, enhancedLayers, fill);\n  return React.createElement(Container, {\n    isInteractive: isInteractive,\n    theme: theme,\n    animate: animate,\n    motionDamping: motionDamping,\n    motionStiffness: motionStiffness\n  }, function (_ref2) {\n    var showTooltip = _ref2.showTooltip,\n        hideTooltip = _ref2.hideTooltip;\n    return React.createElement(SvgWrapper, {\n      width: outerWidth,\n      height: outerHeight,\n      margin: margin,\n      defs: boundDefs,\n      theme: theme\n    }, React.createElement(Grid, {\n      width: width,\n      height: height,\n      xScale: enableGridX ? xScale : null,\n      yScale: enableGridY ? yScale : null\n    }), React.createElement(StreamLayers, {\n      layers: enhancedLayers,\n      fillOpacity: fillOpacity,\n      borderWidth: borderWidth,\n      getBorderColor: getBorderColor,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      getTooltipLabel: getTooltipLabel,\n      theme: theme,\n      animate: animate,\n      motionDamping: motionDamping,\n      motionStiffness: motionStiffness\n    }), React.createElement(Axes, {\n      xScale: xScale,\n      yScale: yScale,\n      width: width,\n      height: height,\n      top: axisTop,\n      right: axisRight,\n      bottom: axisBottom,\n      left: axisLeft\n    }), enableDots && enhancedLayers.map(function (layer) {\n      return React.createElement(StreamDots$1, {\n        key: layer.id,\n        id: layer.id,\n        color: layer.color,\n        data: layer.layer,\n        renderDot: renderDot,\n        position: dotPosition,\n        getSize: getDotSize,\n        getColor: getDotColor,\n        getBorderWidth: getDotBorderWidth,\n        getBorderColor: getDotBorderColor,\n        animate: animate,\n        motionDamping: motionDamping,\n        motionStiffness: motionStiffness\n      });\n    }), isInteractive && enableStackTooltip && React.createElement(StreamSlices$1, {\n      slices: slices,\n      height: height,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      theme: theme,\n      getTooltipValue: getTooltipValue,\n      getTooltipLabel: getTooltipLabel\n    }), legends.map(function (legend, i) {\n      var legendData = enhancedLayers.map(function (l) {\n        return {\n          id: l.id,\n          label: l.id,\n          color: l.color,\n          fill: l.fill\n        };\n      }).reverse();\n      return React.createElement(BoxLegendSvg, _extends$1({\n        key: i\n      }, legend, {\n        containerWidth: width,\n        containerHeight: height,\n        data: legendData,\n        theme: theme\n      }));\n    }));\n  });\n};\nStream.propTypes = StreamPropTypes;\nvar enhancedStream = enhance$2(Stream);\nenhancedStream.displayName = 'Stream';\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar ResponsiveStream = function ResponsiveStream(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(enhancedStream, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { ResponsiveStream, enhancedStream as Stream, StreamDefaultProps, StreamPropTypes };\n"]},"metadata":{},"sourceType":"module"}