{"ast":null,"code":"import _classCallCheck from\"D:\\\\programming\\\\react\\\\new covid\\\\covid19\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\programming\\\\react\\\\new covid\\\\covid19\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"D:\\\\programming\\\\react\\\\new covid\\\\covid19\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"D:\\\\programming\\\\react\\\\new covid\\\\covid19\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{MdPause,MdPlayArrow,MdChevronLeft,MdChevronRight}from'react-icons/md';import{nextDay,previousDay}from'../utils/utils';var AminationController=/*#__PURE__*/function(_Component){_inherits(AminationController,_Component);var _super=_createSuper(AminationController);function AminationController(){var _this;_classCallCheck(this,AminationController);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.animationLoop=function(){return setTimeout(function(){if(_this.props.playing){_this.dateForward();_this.animationLoop();}},500);};_this.dateForward=function(){var _this$props=_this.props,date=_this$props.date,startDate=_this$props.startDate,endDate=_this$props.endDate,plotDates=_this$props.plotDates,fullPlot=_this$props.fullPlot,handleDateChange=_this$props.handleDateChange;if(!fullPlot){handleDateChange(nextDay(date,startDate,endDate));}else{handleDateChange(nextDay(date,plotDates[0],plotDates[1]));}};_this.dateBackward=function(){var _this$props2=_this.props,date=_this$props2.date,startDate=_this$props2.startDate,endDate=_this$props2.endDate,plotDates=_this$props2.plotDates,fullPlot=_this$props2.fullPlot,handleDateChange=_this$props2.handleDateChange;if(!fullPlot){handleDateChange(previousDay(date,startDate,endDate));}else{handleDateChange(previousDay(date,plotDates[0],plotDates[1]));}};_this.startAnimation=function(){return _this.props.playingToggle();};_this.stopAnimation=function(){_this.props.playingToggle();_this.forceUpdate();};return _this;}_createClass(AminationController,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.props.playing)this.animationLoop();}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(prevProps,prevState){return!this.props.playing;}},{key:\"render\",value:function render(){var playing=this.props.playing;return/*#__PURE__*/React.createElement(\"div\",{className:\"anime-ctrl\"},/*#__PURE__*/React.createElement(\"div\",{className:\"anime-ctrl-left-right \".concat(playing?'anime-ctrl-playing':'')},/*#__PURE__*/React.createElement(MdChevronLeft,{size:30,onClick:this.dateBackward})),/*#__PURE__*/React.createElement(\"div\",{className:\"anime-ctrl-play\"},playing?/*#__PURE__*/React.createElement(MdPause,{size:30,onClick:this.stopAnimation}):/*#__PURE__*/React.createElement(MdPlayArrow,{size:30,onClick:this.startAnimation})),/*#__PURE__*/React.createElement(\"div\",{className:\"anime-ctrl-left-right \".concat(playing?'anime-ctrl-playing':'')},/*#__PURE__*/React.createElement(MdChevronRight,{size:30,onClick:this.dateForward})));}}]);return AminationController;}(Component);export{AminationController as default};","map":{"version":3,"sources":["D:/programming/react/new covid/covid19/src/components/AnimationController.js"],"names":["React","Component","MdPause","MdPlayArrow","MdChevronLeft","MdChevronRight","nextDay","previousDay","AminationController","animationLoop","setTimeout","props","playing","dateForward","date","startDate","endDate","plotDates","fullPlot","handleDateChange","dateBackward","startAnimation","playingToggle","stopAnimation","forceUpdate","prevProps","prevState"],"mappings":"woBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,CAAkBC,WAAlB,CAA+BC,aAA/B,CAA8CC,cAA9C,KAAoE,gBAApE,CACA,OAASC,OAAT,CAAkBC,WAAlB,KAAqC,gBAArC,C,GAEqBC,CAAAA,mB,+WACjBC,a,CAAgB,iBACZC,CAAAA,UAAU,CAAC,UAAM,CACb,GAAI,MAAKC,KAAL,CAAWC,OAAf,CAAwB,CACpB,MAAKC,WAAL,GACA,MAAKJ,aAAL,GACH,CACJ,CALS,CAKP,GALO,CADE,E,OAgBhBI,W,CAAc,UAAM,iBAC4D,MAAKF,KADjE,CACRG,IADQ,aACRA,IADQ,CACFC,SADE,aACFA,SADE,CACSC,OADT,aACSA,OADT,CACkBC,SADlB,aACkBA,SADlB,CAC6BC,QAD7B,aAC6BA,QAD7B,CACuCC,gBADvC,aACuCA,gBADvC,CAEhB,GAAI,CAACD,QAAL,CAAe,CACXC,gBAAgB,CAACb,OAAO,CAACQ,IAAD,CAAOC,SAAP,CAAkBC,OAAlB,CAAR,CAAhB,CACH,CAFD,IAEO,CACHG,gBAAgB,CAACb,OAAO,CAACQ,IAAD,CAAOG,SAAS,CAAC,CAAD,CAAhB,CAAqBA,SAAS,CAAC,CAAD,CAA9B,CAAR,CAAhB,CACH,CACJ,C,OAEDG,Y,CAAe,UAAM,kBAC2D,MAAKT,KADhE,CACTG,IADS,cACTA,IADS,CACHC,SADG,cACHA,SADG,CACQC,OADR,cACQA,OADR,CACiBC,SADjB,cACiBA,SADjB,CAC4BC,QAD5B,cAC4BA,QAD5B,CACsCC,gBADtC,cACsCA,gBADtC,CAEjB,GAAI,CAACD,QAAL,CAAe,CACXC,gBAAgB,CAACZ,WAAW,CAACO,IAAD,CAAOC,SAAP,CAAkBC,OAAlB,CAAZ,CAAhB,CACH,CAFD,IAEO,CACHG,gBAAgB,CAACZ,WAAW,CAACO,IAAD,CAAOG,SAAS,CAAC,CAAD,CAAhB,CAAqBA,SAAS,CAAC,CAAD,CAA9B,CAAZ,CAAhB,CACH,CACJ,C,OAEDI,c,CAAiB,iBAAM,OAAKV,KAAL,CAAWW,aAAX,EAAN,E,OAEjBC,a,CAAgB,UAAM,CAClB,MAAKZ,KAAL,CAAWW,aAAX,GACA,MAAKE,WAAL,GACH,C,6GA/BkBC,S,CAAWC,S,CAAW,CACrC,GAAI,KAAKf,KAAL,CAAWC,OAAf,CAAwB,KAAKH,aAAL,GAC3B,C,oEAEqBgB,S,CAAWC,S,CAAW,CACxC,MAAO,CAAC,KAAKf,KAAL,CAAWC,OAAnB,CACH,C,uCA2BQ,IACGA,CAAAA,OADH,CACe,KAAKD,KADpB,CACGC,OADH,CAEL,mBACI,2BAAK,SAAS,CAAC,YAAf,eACI,2BAAK,SAAS,iCAA2BA,OAAO,CAAG,oBAAH,CAA0B,EAA5D,CAAd,eACI,oBAAC,aAAD,EAAe,IAAI,CAAE,EAArB,CAAyB,OAAO,CAAE,KAAKQ,YAAvC,EADJ,CADJ,cAII,2BAAK,SAAS,CAAC,iBAAf,EACKR,OAAO,cACJ,oBAAC,OAAD,EAAS,IAAI,CAAE,EAAf,CAAmB,OAAO,CAAE,KAAKW,aAAjC,EADI,cAGJ,oBAAC,WAAD,EAAa,IAAI,CAAE,EAAnB,CAAuB,OAAO,CAAE,KAAKF,cAArC,EAJR,CAJJ,cAWI,2BAAK,SAAS,iCAA2BT,OAAO,CAAG,oBAAH,CAA0B,EAA5D,CAAd,eACI,oBAAC,cAAD,EAAgB,IAAI,CAAE,EAAtB,CAA0B,OAAO,CAAE,KAAKC,WAAxC,EADJ,CAXJ,CADJ,CAiBH,C,iCA7D4CZ,S,SAA5BO,mB","sourcesContent":["import React, { Component } from 'react'\r\nimport { MdPause, MdPlayArrow, MdChevronLeft, MdChevronRight } from 'react-icons/md'\r\nimport { nextDay, previousDay } from '../utils/utils'\r\n\r\nexport default class AminationController extends Component {\r\n    animationLoop = () =>\r\n        setTimeout(() => {\r\n            if (this.props.playing) {\r\n                this.dateForward()\r\n                this.animationLoop()\r\n            }\r\n        }, 500)\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.props.playing) this.animationLoop()\r\n    }\r\n\r\n    shouldComponentUpdate(prevProps, prevState) {\r\n        return !this.props.playing\r\n    }\r\n\r\n    dateForward = () => {\r\n        const { date, startDate, endDate, plotDates, fullPlot, handleDateChange } = this.props\r\n        if (!fullPlot) {\r\n            handleDateChange(nextDay(date, startDate, endDate))\r\n        } else {\r\n            handleDateChange(nextDay(date, plotDates[0], plotDates[1]))\r\n        }\r\n    }\r\n\r\n    dateBackward = () => {\r\n        const { date, startDate, endDate, plotDates, fullPlot, handleDateChange } = this.props\r\n        if (!fullPlot) {\r\n            handleDateChange(previousDay(date, startDate, endDate))\r\n        } else {\r\n            handleDateChange(previousDay(date, plotDates[0], plotDates[1]))\r\n        }\r\n    }\r\n\r\n    startAnimation = () => this.props.playingToggle()\r\n\r\n    stopAnimation = () => {\r\n        this.props.playingToggle()\r\n        this.forceUpdate()\r\n    }\r\n\r\n    render() {\r\n        const { playing } = this.props\r\n        return (\r\n            <div className=\"anime-ctrl\">\r\n                <div className={`anime-ctrl-left-right ${playing ? 'anime-ctrl-playing' : ''}`}>\r\n                    <MdChevronLeft size={30} onClick={this.dateBackward} />\r\n                </div>\r\n                <div className=\"anime-ctrl-play\">\r\n                    {playing ? (\r\n                        <MdPause size={30} onClick={this.stopAnimation} />\r\n                    ) : (\r\n                        <MdPlayArrow size={30} onClick={this.startAnimation} />\r\n                    )}\r\n                </div>\r\n                <div className={`anime-ctrl-left-right ${playing ? 'anime-ctrl-playing' : ''}`}>\r\n                    <MdChevronRight size={30} onClick={this.dateForward} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}